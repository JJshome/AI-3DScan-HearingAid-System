<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="400" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="earGrad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff7eb3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff758c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="earGrad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#7028e4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e5b2ca;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="earGrad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#13547a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#80d0c7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="earGrad4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f46b45;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#eea849;stop-opacity:1" />
    </linearGradient>
    <filter id="earShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    
    <!-- Animation styles -->
    <style>
      @keyframes scanAnimation {
        0% { stroke-dashoffset: 1000; }
        100% { stroke-dashoffset: 0; }
      }
      
      @keyframes glowPulse {
        0% { filter: drop-shadow(0 0 2px rgba(255,255,255,0.5)); }
        50% { filter: drop-shadow(0 0 10px rgba(255,255,255,0.8)); }
        100% { filter: drop-shadow(0 0 2px rgba(255,255,255,0.5)); }
      }
      
      @keyframes pointsAppear {
        0% { opacity: 0; }
        100% { opacity: 0.8; }
      }
      
      @keyframes rotate3D {
        0% { transform: rotateY(0deg); }
        100% { transform: rotateY(360deg); }
      }
      
      @keyframes fadeInStagger {
        0% { opacity: 0; transform: translateY(10px); }
        100% { opacity: 1; transform: translateY(0); }
      }
      
      .scanLine {
        stroke-dasharray: 5;
        animation: scanAnimation 15s infinite linear;
      }
      
      .glow {
        animation: glowPulse 3s infinite ease-in-out;
      }
      
      .points {
        animation: pointsAppear 2s ease forwards;
        opacity: 0;
      }
      
      .rotate3D {
        animation: rotate3D 15s infinite linear;
        transform-origin: center;
      }
      
      .staggered {
        opacity: 0;
        animation: fadeInStagger 1s ease forwards;
      }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="400" fill="#1a1a2e"/>
  <text x="400" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#fff" class="staggered">귀 스캐닝 및 AI 처리 과정</text>
  
  <!-- Process Step 1: Ear Scanning -->
  <g class="staggered" style="animation-delay: 0.2s">
    <rect x="50" y="80" rx="15" ry="15" width="160" height="240" fill="url(#earGrad1)" filter="url(#earShadow)"/>
    <text x="130" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">3D 스캐닝</text>
    
    <!-- Ear outline -->
    <path d="M130,200 C160,180 160,140 140,130 C120,120 100,130 100,150 C100,170 110,180 100,200 C90,220 100,240 120,240 C140,240 150,220 130,200 Z" stroke="white" stroke-width="2" fill="none" class="scanLine"/>
    
    <!-- Scanner rays -->
    <line x1="80" y1="150" x2="105" y2="150" stroke="#ffffff" stroke-width="1" class="scanLine glow"/>
    <line x1="80" y1="170" x2="110" y2="170" stroke="#ffffff" stroke-width="1" class="scanLine glow"/>
    <line x1="80" y1="190" x2="115" y2="190" stroke="#ffffff" stroke-width="1" class="scanLine glow"/>
    <line x1="80" y1="210" x2="110" y2="210" stroke="#ffffff" stroke-width="1" class="scanLine glow"/>
    
    <text x="130" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">고정밀 레이저 스캐닝</text>
    <text x="130" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">0.1mm 해상도</text>
  </g>
  
  <!-- Process Step 2: Point Cloud Processing -->
  <g class="staggered" style="animation-delay: 0.4s">
    <rect x="250" y="80" rx="15" ry="15" width="160" height="240" fill="url(#earGrad2)" filter="url(#earShadow)"/>
    <text x="330" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">점 구름 처리</text>
    
    <!-- Point cloud -->
    <g class="points" style="animation-delay: 0.5s">
      <!-- Circular guides -->
      <circle cx="330" cy="170" r="20" fill="none" stroke="white" stroke-width="1" stroke-dasharray="2,2"/>
      <circle cx="330" cy="170" r="40" fill="none" stroke="white" stroke-width="1" stroke-dasharray="2,2"/>
      <circle cx="330" cy="170" r="60" fill="none" stroke="white" stroke-width="1" stroke-dasharray="2,2"/>
    </g>
    
    <!-- Random points to simulate point cloud -->
    <g class="points" style="animation-delay: 1s">
      <circle cx="318" cy="158" r="1" fill="white" opacity="0.8"/>
      <circle cx="322" cy="162" r="1" fill="white" opacity="0.8"/>
      <circle cx="335" cy="168" r="1" fill="white" opacity="0.8"/>
      <circle cx="328" cy="159" r="1" fill="white" opacity="0.8"/>
      <circle cx="342" cy="174" r="1" fill="white" opacity="0.8"/>
      <circle cx="315" cy="175" r="1" fill="white" opacity="0.8"/>
      <circle cx="325" cy="180" r="1" fill="white" opacity="0.8"/>
      <circle cx="338" cy="185" r="1" fill="white" opacity="0.8"/>
      <circle cx="330" cy="190" r="1" fill="white" opacity="0.8"/>
      <circle cx="320" cy="178" r="1" fill="white" opacity="0.8"/>
      <circle cx="310" cy="170" r="1" fill="white" opacity="0.8"/>
      <circle cx="350" cy="170" r="1" fill="white" opacity="0.8"/>
      <circle cx="345" cy="155" r="1" fill="white" opacity="0.8"/>
      <circle cx="325" cy="145" r="1" fill="white" opacity="0.8"/>
      <circle cx="332" cy="152" r="1" fill="white" opacity="0.8"/>
      <circle cx="348" cy="168" r="1" fill="white" opacity="0.8"/>
      <circle cx="314" cy="164" r="1" fill="white" opacity="0.8"/>
      <circle cx="340" cy="180" r="1" fill="white" opacity="0.8"/>
      <circle cx="355" cy="175" r="1" fill="white" opacity="0.8"/>
      <circle cx="318" cy="182" r="1" fill="white" opacity="0.8"/>
      <circle cx="305" cy="175" r="1" fill="white" opacity="0.8"/>
      <circle cx="322" cy="195" r="1" fill="white" opacity="0.8"/>
      <circle cx="339" cy="192" r="1" fill="white" opacity="0.8"/>
      <circle cx="350" cy="183" r="1" fill="white" opacity="0.8"/>
      <circle cx="333" cy="177" r="1" fill="white" opacity="0.8"/>
      <circle cx="319" cy="169" r="1" fill="white" opacity="0.8"/>
      <circle cx="305" cy="163" r="1" fill="white" opacity="0.8"/>
      <circle cx="328" cy="152" r="1" fill="white" opacity="0.8"/>
      <circle cx="342" cy="160" r="1" fill="white" opacity="0.8"/>
      <circle cx="355" cy="164" r="1" fill="white" opacity="0.8"/>
      <circle cx="338" cy="145" r="1" fill="white" opacity="0.8"/>
      <circle cx="322" cy="133" r="1" fill="white" opacity="0.8"/>
      <circle cx="330" cy="127" r="1" fill="white" opacity="0.8"/>
      <circle cx="315" cy="140" r="1" fill="white" opacity="0.8"/>
      <circle cx="347" cy="135" r="1" fill="white" opacity="0.8"/>
      <circle cx="362" cy="155" r="1" fill="white" opacity="0.8"/>
      <circle cx="358" cy="170" r="1" fill="white" opacity="0.8"/>
      <circle cx="365" cy="185" r="1" fill="white" opacity="0.8"/>
      <circle cx="350" cy="195" r="1" fill="white" opacity="0.8"/>
      <circle cx="335" cy="200" r="1" fill="white" opacity="0.8"/>
      <circle cx="320" cy="205" r="1" fill="white" opacity="0.8"/>
      <circle cx="310" cy="195" r="1" fill="white" opacity="0.8"/>
      <circle cx="300" cy="180" r="1" fill="white" opacity="0.8"/>
      <circle cx="295" cy="165" r="1" fill="white" opacity="0.8"/>
      <circle cx="302" cy="150" r="1" fill="white" opacity="0.8"/>
      <circle cx="310" cy="135" r="1" fill="white" opacity="0.8"/>
    </g>
    
    <text x="330" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">노이즈 제거</text>
    <text x="330" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">표면 정규화</text>
  </g>
  
  <!-- Process Step 3: AI Model Processing -->
  <g class="staggered" style="animation-delay: 0.6s">
    <rect x="450" y="80" rx="15" ry="15" width="160" height="240" fill="url(#earGrad3)" filter="url(#earShadow)"/>
    <text x="530" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">AI 모델 처리</text>
    
    <!-- 3D Model -->
    <g class="rotate3D" style="transform-origin: 530px 170px;">
      <!-- Simplified 3D ear canal wireframe -->
      <path d="M530,140 C550,135 555,150 540,160 C525,170 515,180 520,200 C525,220 540,205 550,190" stroke="white" stroke-width="2" fill="none"/>
      <path d="M530,140 C510,135 505,150 520,160 C535,170 545,180 540,200 C535,220 520,205 510,190" stroke="white" stroke-width="2" fill="none"/>
      
      <!-- Cross-sections -->
      <ellipse cx="530" cy="140" rx="20" ry="10" stroke="white" stroke-width="1" fill="none" stroke-dasharray="2,2"/>
      <ellipse cx="530" cy="160" rx="15" ry="8" stroke="white" stroke-width="1" fill="none" stroke-dasharray="2,2"/>
      <ellipse cx="530" cy="180" rx="12" ry="7" stroke="white" stroke-width="1" fill="none" stroke-dasharray="2,2"/>
      <ellipse cx="530" cy="200" rx="10" ry="5" stroke="white" stroke-width="1" fill="none" stroke-dasharray="2,2"/>
      
      <!-- AI processing highlights -->
      <path d="M510,150 L550,150" stroke="#80d0c7" stroke-width="1" class="scanLine"/>
      <path d="M505,170 L555,170" stroke="#80d0c7" stroke-width="1" class="scanLine"/>
      <path d="M510,190 L550,190" stroke="#80d0c7" stroke-width="1" class="scanLine"/>
    </g>
    
    <!-- AI brain symbol -->
    <circle cx="530" cy="230" r="15" fill="none" stroke="white" stroke-width="1" class="glow"/>
    <path d="M520,228 C522,222 538,222 540,228 C542,234 518,234 520,228" stroke="white" stroke-width="1" fill="none"/>
    <path d="M525,220 L525,240" stroke="white" stroke-width="1" fill="none"/>
    <path d="M535,220 L535,240" stroke="white" stroke-width="1" fill="none"/>
    
    <text x="530" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">귀 형상 세그멘테이션</text>
    <text x="530" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">딥러닝 최적화</text>
  </g>
  
  <!-- Process Step 4: 3D Printing/Final Product -->
  <g class="staggered" style="animation-delay: 0.8s">
    <rect x="650" y="80" rx="15" ry="15" width="160" height="240" fill="url(#earGrad4)" filter="url(#earShadow)"/>
    <text x="730" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">3D 프린팅</text>
    
    <!-- Hearing aid model -->
    <g class="points" style="animation-delay: 1.5s">
      <!-- Main body of hearing aid -->
      <path d="M730,180 C750,170 750,150 735,140 C720,130 700,140 700,155 C700,170 710,180 700,190 C690,200 700,210 715,210 C730,210 740,195 730,180 Z" fill="#f46b45" stroke="white" stroke-width="1"/>
      
      <!-- Electronics component -->
      <rect x="710" y="160" width="25" height="10" rx="2" ry="2" fill="white" opacity="0.8"/>
      <circle cx="720" cy="165" r="1" fill="#f46b45"/>
      <circle cx="724" cy="165" r="1" fill="#f46b45"/>
      <circle cx="728" cy="165" r="1" fill="#f46b45"/>
      
      <!-- Speaker output -->
      <circle cx="705" cy="180" r="3" fill="white" opacity="0.8"/>
      <circle cx="705" cy="180" r="1" fill="#f46b45"/>
      
      <!-- Sound holes -->
      <circle cx="735" cy="150" r="1" fill="white"/>
      <circle cx="738" cy="153" r="1" fill="white"/>
      <circle cx="732" cy="154" r="1" fill="white"/>
    </g>
    
    <!-- Printing layers effect -->
    <rect x="700" y="200" width="60" height="1" fill="white" class="scanLine"/>
    <rect x="700" y="195" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 0.2s"/>
    <rect x="700" y="190" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 0.4s"/>
    <rect x="700" y="185" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 0.6s"/>
    <rect x="700" y="180" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 0.8s"/>
    <rect x="700" y="175" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 1.0s"/>
    <rect x="700" y="170" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 1.2s"/>
    <rect x="700" y="165" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 1.4s"/>
    <rect x="700" y="160" width="60" height="1" fill="white" class="scanLine" style="animation-delay: 1.6s"/>
    
    <text x="730" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">LLM 통합형 보청기</text>
    <text x="730" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">맞춤형 제작</text>
  </g>
  
  <!-- Connection arrows -->
  <path d="M210,200 L250,200" stroke="#fff" stroke-width="2" stroke-dasharray="5,3" class="scanLine"/>
  <path d="M240,195 L250,200 L240,205" fill="#fff"/>
  
  <path d="M410,200 L450,200" stroke="#fff" stroke-width="2" stroke-dasharray="5,3" class="scanLine"/>
  <path d="M440,195 L450,200 L440,205" fill="#fff"/>
  
  <path d="M610,200 L650,200" stroke="#fff" stroke-width="2" stroke-dasharray="5,3" class="scanLine"/>
  <path d="M640,195 L650,200 L640,205" fill="#fff"/>
  
  <!-- Processing time indicators -->
  <rect x="120" y="340" width="20" height="10" fill="#fff" opacity="0.8" rx="5" ry="5" class="staggered" style="animation-delay: 1s"/>
  <text x="150" y="349" text-anchor="start" font-family="Arial, sans-serif" font-size="12" fill="#fff" class="staggered" style="animation-delay: 1s">3-5분</text>
  
  <rect x="320" y="340" width="20" height="10" fill="#fff" opacity="0.8" rx="5" ry="5" class="staggered" style="animation-delay: 1.1s"/>
  <text x="350" y="349" text-anchor="start" font-family="Arial, sans-serif" font-size="12" fill="#fff" class="staggered" style="animation-delay: 1.1s">1-2분</text>
  
  <rect x="520" y="340" width="20" height="10" fill="#fff" opacity="0.8" rx="5" ry="5" class="staggered" style="animation-delay: 1.2s"/>
  <text x="550" y="349" text-anchor="start" font-family="Arial, sans-serif" font-size="12" fill="#fff" class="staggered" style="animation-delay: 1.2s">5-8분</text>
  
  <rect x="720" y="340" width="20" height="10" fill="#fff" opacity="0.8" rx="5" ry="5" class="staggered" style="animation-delay: 1.3s"/>
  <text x="750" y="349" text-anchor="start" font-family="Arial, sans-serif" font-size="12" fill="#fff" class="staggered" style="animation-delay: 1.3s">30-60분</text>
</svg>
